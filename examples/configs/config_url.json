[
  {
      "question": "",
      "comment": "",
      "url": "",
      "urls": [
          "",
          ""
      ],
      "config": {}
  },
  {
      "question": "Select the gender and name for patients born after 2000",
      "comment": "And some local treatment to extract `patient.gender` and `patient.name.given`, using http://objectpath.org/",
      "url": "Patient?birthdate=>2000-01-01",
      "urls": [
          "http://hapi.fhir.org/baseR4/Patient?birthdate=gt2000-01-01&_format=json",
          "http://hapi.fhir.org/baseR4/Patient?birthdate=gt2000-01-01",
          "http://hapi.fhir.org/baseR4/Patient?birthdate=>2000-01-01&_format=json",
          "http://hapi.fhir.org/baseR4/Patient?birthdate=>2000-01-01",
          "Patient?birthdate=>2000-01-01",
          "Patient?birthdate=gt2000-01-01"
      ],
      "config": {
          "select": {
              "patient": [
                  "gender",
                  "name.given"
              ]
          },
          "from": {
              "Patient": "patient"
          },
          "where": {
              "patient": {
                  "birthdate": {
                      "gt": "2000-01-01"
                  }
              }
          }
      }
  },
  {
      "question": "Get the pressure measures of patients born after 1970, together with their gender and birthdate",
      "comment": "And some local treatment to:\n- Bind in the response bundle the Patients with the Observation.subject references\n- extract `observation.component.valueQuantity.value`, `observation.subject.birthdate`, `observation.subject.gender`",
      "url": "http://hapi.fhir.org/baseR4/Observation?subject:Patient.birthdate=gt1970&code=http://loinc.org|55284-4&_include=Observation:subject",
      "urls": [
          "http://hapi.fhir.org/baseR4/Observation?subject:Patient.birthdate=gt1970&code=http://loinc.org|55284-4&_include=Observation:subject",
          "http://hapi.fhir.org/baseR4/Observation?subject:Patient.birthdate=gt1970&code=http://loinc.org|55284-4&_include=Observation:subject:Patient"
      ],
      "config": {
          "select": {
              "observation": [
                  "component.valueQuantity.value"
              ],
              "patient": [
                  "birthdate",
                  "gender"
              ]
          },
          "from": {
              "Patient": "patient",
              "Observation": "observation"
          },
          "join": {
              "observation": {
                  "subject": "patient"
              }
          },
          "where": {
              "patient": {
                  "birthdate": {
                      "gt": "1970"
                  }
              },
              "observation": {
                  "code": "http://loinc.org|55284-4"
              }
          }
      }
  },
  {
      "question": "Get the number of patients currently having a Outpatient Kenacort injection because of Unicornate uterus",
      "comment": "post-processing to count",
      "url": "http://hapi.fhir.org/baseR4/Encounter?type=OKI&status=in-progress&reason-code=1372004&_include=Encounter:subject",
      "urls": [
          "http://hapi.fhir.org/baseR4/Encounter?type=OKI&status=in-progress&reason-code=1372004&_include=Encounter:subject"
      ],
      "config": {
          "select": {
              "count": [
                  "patient"
              ]
          },
          "from": {
              "Encounter": "encounter",
              "Patient": "patient"
          },
          "join": {
              "encounter": {
                  "subject": "patient"
              }
          },
          "where": {
              "encounter": {
                  "type": "OKI",
                  "reason-code": "1372004",
                  "status": "in-progress"
              }
          }
      }
  },
  {
      "question": "Get clinical information about patients who had a general examination because of Coronavirus",
      "comment": "And some local treatment to:\n- Bind in the response bundle the Patients with the Encounter.subject references and the Encounters with the Condition.encounter references.\n- extract `condition.code.coding.system, condition.code.coding.code, condition.code.coding.display, condition.encounter.period.start, conditi\nencounter.period.end, condition.encounter.diagnosis, condition.encounter.patient.birthdate, condition.encounter.patient.gender, conditi\nencounter.patient.deceasedBoolean`\n_Note that because Condition also references the Patient subject, `_include:iterate` could also be replaced with `_include` and Condition wouuld left joining directly Encounter + Patient._",
      "url": "http://hapi.fhir.org/baseR4/Condition?encounter:Encounter.type=162673000&encounter:Encounter.reason-code=840546002&encounter:Encounter.status=finished&_include=Condition:encounter&_include:iterate=Encounter:subject",
      "urls": [
          "http://hapi.fhir.org/baseR4/Condition?encounter:Encounter.type=162673000&encounter:Encounter.reason-code=840546002&encounter:Encounter.status=finished&_include=Condition:encounter&_include:iterate=Encounter:subject"
      ],
      "config": {
          "select": {
              "patient": [
                  "birthdate",
                  "gender",
                  "deceasedBoolean"
              ],
              "encounter": [
                  "period.start",
                  "period.end",
                  "diagnosis"
              ],
              "condition": [
                  "code.coding.system",
                  "code.coding.code",
                  "code.coding.display"
              ]
          },
          "from": {
              "Condition": "condition",
              "Encounter": "encounter",
              "Patient": "patient"
          },
          "join": {
              "condition": {
                  "encounter": "encounter"
              },
              "encounter": {
                  "subject": "patient"
              }
          },
          "where": {
              "encounter": {
                  "type": "162673000",
                  "reason-code": "840546002",
                  "status": "finished"
              }
          }
      }
  },
  {
      "question": "Get the given name of patients who had a a general examination referenced by the code 162673000 of http://snomed.info/sct system",
      "comment": "select patient.name.given",
      "url": "Patient?_has:Encounter:subject:type=http://snomed.info/sct|162673000&_has:Encounter:subject:status=finished",
      "urls": [
          "Patient?_has:Encounter:subject:type=http://snomed.info/sct|162673000&_has:Encounter:subject:status=finished"
      ],
      "config": {
          "select": {
              "patient": [
                  "name.given"
              ]
          },
          "from": {
              "Encounter": "encounter",
              "Patient": "patient"
          },
          "join": {
              "encounter": {
                  "subject": "patient"
              }
          },
          "where": {
              "encounter": {
                  "type": "http://snomed.info/sct|162673000",
                  "status": "finished"
              }
          }
      }
  },
  {
      "question": "Get the given name of patients who had a a general examination referenced by the code 162673000 ",
      "comment": "select patient.name.given",
      "url": "Patient?_has:Encounter:subject:type=162673000&_has:Encounter:subject:status=finished",
      "urls": [
          "Patient?_has:Encounter:subject:type=162673000&_has:Encounter:subject:status=finished"
      ],
      "config": {
          "select": {
              "patient": [
                  "name.given"
              ]
          },
          "from": {
              "Encounter": "encounter",
              "Patient": "patient"
          },
          "join": {
              "encounter": {
                  "subject": "patient"
              }
          },
          "where": {
              "encounter": {
                  "type": "162673000",
                  "status": "finished"
              }
          }
      }
  },
  {
      "comment": "add exemple with select with count dans get attributes"
  },
  {
      "question": "Get the blood pressure systolic and diastolic measure, along with the gender and birthdate of patients born after 1970 (include)",
      "comment":"",
      "url": "",
      "urls": [
          "",
          ""
      ],
      "config": {
          "select": {
              "observation": [
                  "component.valueQuantity.value"
              ],
              "patient": [
                  "birthDate",
                  "gender"
              ]
          },
          "from": {
              "Patient": "patient",
              "Observation": "observation"
          },
          "join": {
              "observation": {
                  "subject": "patient"
              }
          },
          "where": {
              "patient": {
                  "birthdate": {
                      "ge": "1970"
                  }
              },
              "observation": {
                  "code": "http://loinc.org|55284-4"
              }
          }
      }
  },
  {
      "question": "Return the name, gender and date of birth of patients with confirmed moderate fever diagnosed by Dr. M.Doe who are still active",
      "comment":"",
      "url": "http://hapi.fhir.org/baseR4/Condition?asserter:Practitioner.active=true&asserter:Practitioner.given=Doe&code=386661006&severity=255604002&verification-status=confirmed&_include=Condition:subject:Patient&_include=Condition:asserter:Practitioner",
      "urls": [
          "",
          ""
      ],
      "config": {
          "select": {
            "patient": [
              "gender",
              "name.given",
              "birthDate"
            ]
          },
          "from": {
            "Patient": "patient",
            "Practitioner": "practitioner",
            "Condition": "condition"
          },
          "join": {
            "condition": {
              
              "asserter": "practitioner",
              "subject": "patient"
            }
          },
          "where": {
            "practitioner": {
              "active": "true",
              "given": "Doe"
            },
            "condition": {
              "code": "386661006",
              "severity": "255604002",
              "verification-status": "confirmed"
            }
          }
        }
  }
]